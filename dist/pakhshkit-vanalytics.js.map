{"version":3,"sources":["./vanalytics/webpack/universalModuleDefinition","./vanalytics/pakhshkit-vanalytics.js","./vanalytics/webpack/bootstrap add281ea33afc165b729","./vanalytics/external {\"commonjs\":\"pakhshkit-js\",\"commonjs2\":\"pakhshkit-js\",\"amd\":\"pakhshkit-js\",\"root\":[\"pakhshkit\",\"core\"]}","./vanalytics/./index.js","./vanalytics/./vanalytics.js","./vanalytics/../node_modules/pakhshkit-js-providers/dist/pakhshkit-stats-service.js","./vanalytics/./event-types.js","./vanalytics/./event.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_0__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","NAME","VERSION","undefined","_pakhshkitJs","_vanalytics","_vanalytics2","obj","default","registerPlugin","_interopRequireDefault","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","length","descriptor","key","protoProps","staticProps","_pakhshkitStatsService","_eventTypes","_eventTypes2","_event","_event2","VAnalytics","_BasePlugin","player","config","_this","getPrototypeOf","_lastSeekEvent","_hasSeeked","_ended","_vs","_timePercentEvent","_widgetLoadedEventSent","_registerListeners","eventManager","destroy","PlayerEvent","Event","listen","SOURCE_SELECTED","_onSourceSelected","bind","FIRST_PLAY","_sendAnalytics","PLAY","_onPlay","ENDED","_onEnded","SEEKED","_sendSeekAnalytic","TIME_UPDATE","_sendTimePercentAnalytic","PLAYER_STATE_CHANGED","_onPlayerStateChanged","_this2","WIDGET_LOADED","ready","then","MEDIA_LOADED","REPLAY","event","payload","newState","type","State","BUFFERING","BUFFER_START","oldState","BUFFER_END","now","Date","getTime","dvr","SEEK","percent","currentTime","duration","PLAY_REACHED_25","PLAY_REACHED_50","PLAY_REACHED_75","PLAY_REACHED_100","eventType","_this3","_validate","statsEvent","currentPoint","seek","assign","_playerParams","eventData","hasKanalony","OVPStatsService","collect","serviceUrl","playerVersion","doHttpRequest","logger","debug","err","error","partnerId","entryId","_logMissingParam","missingParam","warn","vs","clientVer","sessionId","uiConfId","widgetId","referrer","BasePlugin","defaultConfig","e","t","r","Symbol","iterator","u","arguments","Map","headers","service","action","url","Error","XMLHttpRequest","Promise","onreadystatechange","readyState","status","JSON","parse","responseText","message","code","open","method","forEach","setRequestHeader","send","params","OVPConfiguration","cdnUrl","serviceParams","apiVersion","format","a","clone","Array","isArray","slice","keys","getLevel","setLevel","setLogLevel","getLogLevel","LogLevel","DEBUG","INFO","TIME","WARN","ERROR","OFF","useDefaults","defaultLevel","hasError","objectType","data","MultiRequestResult","f","v","y","apply","concat","requests","push","stringify","_logger","h","results","success","result","context","filterLevel","log","info","enabledFor","invoke","time","timeEnd","level","setHandler","createDefaultHandler","formatter","unshift","Function","console","toString","encodeURIComponent","test","String","join","replace","param","clientTag","set","getUrl","tag","RequestBuilder","EVENT_TYPES","OPEN_EDIT","OPEN_VIRAL","OPEN_DOWNLOAD","OPEN_REPORT","OPEN_FULL_SCREEN","CLOSE_FULL_SCREEN","OPEN_UPLOAD","SAVE_PUBLISH","CLOSE_EDITOR","PRE_BUMPER_PLAYED","POST_BUMPER_PLAYED","BUMPER_CLICKED","PREROLL_STARTED","MIDROLL_STARTED","POSTROLL_STARTED","OVERLAY_STARTED","PREROLL_CLICKED","MIDROLL_CLICKED","POSTROLL_CLICKED","OVERLAY_CLICKED","PREROLL_25","PREROLL_50","PREROLL_75","MIDROLL_25","MIDROLL_50","MIDROLL_75","POSTROLL_25","POSTROLL_50","POSTROLL_75","isFirstInSession","eventTimestamp"],"mappings":"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","file":"pakhshkit-vanalytics.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"pakhshkit-js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"pakhshkit-js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vanalytics\"] = factory(require(\"pakhshkit-js\"));\n\telse\n\t\troot[\"pakhshkit\"] = root[\"pakhshkit\"] || {}, root[\"pakhshkit\"][\"vanalytics\"] = factory(root[\"pakhshkit\"][\"core\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"pakhshkit-js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"pakhshkit-js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vanalytics\"] = factory(require(\"pakhshkit-js\"));\n\telse\n\t\troot[\"pakhshkit\"] = root[\"pakhshkit\"] || {}, root[\"pakhshkit\"][\"vanalytics\"] = factory(root[\"pakhshkit\"][\"core\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NAME = exports.VERSION = undefined;\n\nvar _pakhshkitJs = __webpack_require__(0);\n\nvar _vanalytics = __webpack_require__(2);\n\nvar _vanalytics2 = _interopRequireDefault(_vanalytics);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _vanalytics2.default;\nexports.VERSION = \"0.9.1\";\nexports.NAME = \"pakhshkit-js-vanalytics\";\n\n\nvar pluginName = 'vanalytics';\n/**\r\n * Register the plugin in the pakhshkit-js plugin framework.\r\n */\n(0, _pakhshkitJs.registerPlugin)(pluginName, _vanalytics2.default);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _pakhshkitJs = __webpack_require__(0);\n\nvar _pakhshkitStatsService = __webpack_require__(3);\n\nvar _eventTypes = __webpack_require__(4);\n\nvar _eventTypes2 = _interopRequireDefault(_eventTypes);\n\nvar _event = __webpack_require__(5);\n\nvar _event2 = _interopRequireDefault(_event);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SEEK_OFFSET = 2000;\nvar LIVE = 'Live';\n\n/**\r\n * @classdesc\r\n */\n\nvar VAnalytics = function (_BasePlugin) {\n  _inherits(VAnalytics, _BasePlugin);\n\n  _createClass(VAnalytics, null, [{\n    key: 'isValid',\n\n\n    /**\r\n     * @static\r\n     * @public\r\n     * @returns {boolean} - Whether the plugin is valid.\r\n     */\n    value: function isValid() {\n      return true;\n    }\n\n    /**\r\n     * The time of the last seek event\r\n     * @private\r\n     */\n\n    /**\r\n     * @static\r\n     */\n\n    /**\r\n     * Whether seeking occurred\r\n     * @private\r\n     */\n\n    /**\r\n     * The ended flag\r\n     * @private\r\n     */\n\n    /**\r\n     * The Vidiun session\r\n     * @private\r\n     */\n\n    /**\r\n     * Indicate whether time percent event already sent\r\n     * @private\r\n     */\n\n    /**\r\n     * Indicate whether widget loaded event already sent\r\n     * @private\r\n     */\n\n  }]);\n\n  /**\r\n   * @constructor\r\n   * @param {string} name - The plugin name.\r\n   * @param {Player} player - The player reference.\r\n   * @param {Object} config - The plugin configuration.\r\n   */\n  function VAnalytics(name, player, config) {\n    _classCallCheck(this, VAnalytics);\n\n    var _this = _possibleConstructorReturn(this, (VAnalytics.__proto__ || Object.getPrototypeOf(VAnalytics)).call(this, name, player, config));\n\n    _this._lastSeekEvent = 0;\n    _this._hasSeeked = false;\n    _this._ended = false;\n    _this._vs = '';\n    _this._timePercentEvent = {};\n    _this._widgetLoadedEventSent = false;\n\n    _this._registerListeners();\n    return _this;\n  }\n\n  /**\r\n   * Reset the plugin flags\r\n   * @return {void}\r\n   */\n\n\n  _createClass(VAnalytics, [{\n    key: 'reset',\n    value: function reset() {\n      this._hasSeeked = false;\n      this._ended = false;\n      this._vs = '';\n      this._timePercentEvent = {};\n    }\n\n    /**\r\n     * @public\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.eventManager.destroy();\n    }\n\n    /**\r\n     * Register the player event listeners\r\n     * @private\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: '_registerListeners',\n    value: function _registerListeners() {\n      var PlayerEvent = this.player.Event;\n      this.eventManager.listen(this.player, PlayerEvent.SOURCE_SELECTED, this._onSourceSelected.bind(this));\n      this.eventManager.listen(this.player, PlayerEvent.FIRST_PLAY, this._sendAnalytics.bind(this, _eventTypes2.default.PLAY));\n      this.eventManager.listen(this.player, PlayerEvent.PLAY, this._onPlay.bind(this));\n      this.eventManager.listen(this.player, PlayerEvent.ENDED, this._onEnded.bind(this));\n      this.eventManager.listen(this.player, PlayerEvent.SEEKED, this._sendSeekAnalytic.bind(this));\n      this.eventManager.listen(this.player, PlayerEvent.TIME_UPDATE, this._sendTimePercentAnalytic.bind(this));\n      this.eventManager.listen(this.player, PlayerEvent.PLAYER_STATE_CHANGED, this._onPlayerStateChanged.bind(this));\n    }\n\n    /**\r\n     * The source selected event listener\r\n     * @private\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: '_onSourceSelected',\n    value: function _onSourceSelected() {\n      var _this2 = this;\n\n      if (!this._widgetLoadedEventSent) {\n        this._sendAnalytics(_eventTypes2.default.WIDGET_LOADED);\n        this._widgetLoadedEventSent = true;\n      }\n      this.player.ready().then(function () {\n        _this2._sendAnalytics(_eventTypes2.default.MEDIA_LOADED);\n      });\n    }\n\n    /**\r\n     * The play event listener\r\n     * @private\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: '_onPlay',\n    value: function _onPlay() {\n      if (this._ended) {\n        this._ended = false;\n        this._sendAnalytics(_eventTypes2.default.REPLAY);\n      }\n    }\n\n    /**\r\n     * The ended event listener\r\n     * @private\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: '_onEnded',\n    value: function _onEnded() {\n      this._ended = true;\n    }\n\n    /**\r\n     * The player state changed event listener\r\n     * @param {any} event - the event\r\n     * @private\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: '_onPlayerStateChanged',\n    value: function _onPlayerStateChanged(event) {\n      if (event.payload.newState.type === this.player.State.BUFFERING) {\n        this._sendAnalytics(_eventTypes2.default.BUFFER_START);\n      }\n      if (event.payload.oldState.type === this.player.State.BUFFERING) {\n        this._sendAnalytics(_eventTypes2.default.BUFFER_END);\n      }\n    }\n\n    /**\r\n     * Send seek analytic\r\n     * @private\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: '_sendSeekAnalytic',\n    value: function _sendSeekAnalytic() {\n      var now = new Date().getTime();\n      if (this._lastSeekEvent + SEEK_OFFSET < now && (this.player.config.type !== LIVE || this.player.config.dvr)) {\n        // avoid sending lots of seeking while scrubbing\n        this._sendAnalytics(_eventTypes2.default.SEEK);\n        this._hasSeeked = true;\n      }\n      this._lastSeekEvent = now;\n    }\n\n    /**\r\n     * Send time percent analytic\r\n     * @private\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: '_sendTimePercentAnalytic',\n    value: function _sendTimePercentAnalytic() {\n      if (this.player.config.type !== LIVE) {\n        var percent = this.player.currentTime / this.player.duration;\n        if (!this._timePercentEvent.PLAY_REACHED_25 && percent >= 0.25) {\n          this._timePercentEvent.PLAY_REACHED_25 = true;\n          this._sendAnalytics(_eventTypes2.default.PLAY_REACHED_25);\n        }\n        if (!this._timePercentEvent.PLAY_REACHED_50 && percent >= 0.5) {\n          this._timePercentEvent.PLAY_REACHED_50 = true;\n          this._sendAnalytics(_eventTypes2.default.PLAY_REACHED_50);\n        }\n        if (!this._timePercentEvent.PLAY_REACHED_75 && percent >= 0.75) {\n          this._timePercentEvent.PLAY_REACHED_75 = true;\n          this._sendAnalytics(_eventTypes2.default.PLAY_REACHED_75);\n        }\n        if (!this._timePercentEvent.PLAY_REACHED_100 && percent >= 1) {\n          this._timePercentEvent.PLAY_REACHED_100 = true;\n          this._sendAnalytics(_eventTypes2.default.PLAY_REACHED_100);\n        }\n      }\n    }\n\n    /**\r\n     * Get the player params which relevant to analytics request\r\n     * @private\r\n     * @return {Object} - The player params\r\n     */\n\n  }, {\n    key: '_sendAnalytics',\n\n\n    /**\r\n     * Register the player event listeners\r\n     * @param {number} eventType - The event type\r\n     * @private\r\n     * @return {void}\r\n     */\n    value: function _sendAnalytics(eventType) {\n      var _this3 = this;\n\n      if (!this._validate()) {\n        return;\n      }\n      var statsEvent = new _event2.default(eventType);\n      statsEvent.currentPoint = this.player.currentTime;\n      statsEvent.duration = this.player.duration;\n      statsEvent.seek = this._hasSeeked;\n      Object.assign(statsEvent, this._playerParams);\n      var eventData = {\n        event: statsEvent,\n        hasKanalony: this.config.hasKanalony\n      };\n      var request = _pakhshkitStatsService.OVPStatsService.collect(this.config.serviceUrl, this._vs, this.config.playerVersion, eventData);\n      request.doHttpRequest().then(function () {\n        _this3.logger.debug('Analytics event sent ', statsEvent);\n      }, function (err) {\n        _this3.logger.error('Failed to send analytics event ', statsEvent, err);\n      });\n    }\n  }, {\n    key: '_validate',\n    value: function _validate() {\n      if (!this.config.partnerId) {\n        this._logMissingParam('partnerId');\n        return false;\n      }\n      if (!this.config.entryId) {\n        this._logMissingParam('entryId');\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: '_logMissingParam',\n    value: function _logMissingParam(missingParam) {\n      this.logger.warn('block report because of missing param ' + missingParam);\n    }\n  }, {\n    key: '_playerParams',\n    get: function get() {\n      this._vs = this.config.vs;\n      return {\n        clientVer: this.config.playerVersion,\n        entryId: this.config.entryId,\n        sessionId: this.config.sessionId,\n        uiConfId: this.config.uiConfId || 0,\n        partnerId: this.config.partnerId,\n        widgetId: this.config.partnerId ? '_' + this.config.partnerId : '',\n        referrer: this.config.referrer\n      };\n    }\n  }]);\n\n  return VAnalytics;\n}(_pakhshkitJs.BasePlugin);\n\nVAnalytics.defaultConfig = {\n  serviceUrl: '//stats.vidiun.com/api_v3/index.php',\n  hasKanalony: false\n};\nexports.default = VAnalytics;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(e,t){ true?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.stats=t():(e.pakhshkit=e.pakhshkit||{},e.pakhshkit.services=e.pakhshkit.services||{},e.pakhshkit.services.stats=t())}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=16)}([function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;r(this,e),this.headers=t}return i(e,[{key:\"getUrl\",value:function(e){return e+\"/service/\"+this.service+(this.action?\"/action/\"+this.action:\"\")}},{key:\"doHttpRequest\",value:function(){var e=this;if(!this.url)throw new Error(\"serviceUrl is mandatory for request builder\");var t=new XMLHttpRequest;return new Promise(function(n,r){t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){var e=void 0;try{e=JSON.parse(t.responseText)}catch(e){return r(e.message+\", \"+t.responseText)}e&&\"object\"===(void 0===e?\"undefined\":o(e))&&e.code&&e.message?r(e):n(e)}else r(t.responseText)},t.open(e.method,e.url),e.headers.forEach(function(e,n){t.setRequestHeader(n,e)}),t.send(e.params)})}}]),e}();t.default=u},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0}),t.OVPConfiguration=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),u={serviceUrl:\"https://cdnapisec.vidiun.com/api_v3\",cdnUrl:\"//cdnapisec.vidiun.com\",serviceParams:{apiVersion:\"3.3.0\",format:1}},a=function(){function e(){r(this,e)}return o(e,null,[{key:\"set\",value:function(e){e&&Object.assign(u,e)}},{key:\"get\",value:function(){return(0,i.clone)(u)}}]),e}();t.default=a,t.OVPConfiguration=a},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function e(t){var n=void 0;return Array.isArray(t)?(n=t.length>0?t.slice(0):[],n.forEach(function(t,o){(\"object\"===(void 0===t?\"undefined\":r(t))&&t!=={}||Array.isArray(t)&&t.length>0)&&(n[o]=e(t))})):\"object\"===(void 0===t?\"undefined\":r(t))?(n=Object.assign({},t),Object.keys(n).forEach(function(t){(\"object\"===r(n[t])&&n[t]!=={}||Array.isArray(n[t])&&n[t].length>0)&&(n[t]=e(n[t]))})):n=t,n};t.clone=o},function(e,t,n){\"use strict\";function r(e){return e?a.get(e):a}function o(e){return r(e).getLevel()}function i(e,t){r(t).setLevel(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.setLogLevel=t.getLogLevel=t.LogLevel=void 0;var u=n(6),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),s={DEBUG:a.DEBUG,INFO:a.INFO,TIME:a.TIME,WARN:a.WARN,ERROR:a.ERROR,OFF:a.OFF};a.useDefaults({defaultLevel:a.ERROR}),t.default=r,t.LogLevel=s,t.getLogLevel=o,t.setLogLevel=i},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function e(t){r(this,e),this.hasError=!1,\"VidiunAPIException\"===t.objectType?(this.hasError=!0,this.error=new i(t.code,t.message)):t.error&&\"VidiunAPIException\"===t.error.objectType?(this.hasError=!0,this.error=new i(t.error.code,t.error.message)):this.data=t};t.default=o;var i=function e(t,n){r(this,e),this.code=t,this.message=n}},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.MultiRequestResult=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=n(3),p=r(f),v=n(4),d=r(v),y=function(e){function t(){var e,n,r,o;i(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.requests=[],o=n,u(r,o)}return a(t,e),s(t,[{key:\"add\",value:function(e){this.requests.push(e);var t={},n={service:e.service,action:e.action};return Object.assign(t,o({},this.requests.length,Object.assign(n,e.params))),Object.assign(t,this.params),this.params=t,this}},{key:\"execute\",value:function(){var e=this;try{this.params=JSON.stringify(this.params)}catch(e){t._logger.error(\"\"+e.message)}return new Promise(function(t,n){e.doHttpRequest().then(function(e){t(new h(e))},function(e){n(\"Error on multiRequest execution, error <\"+e+\">.\")})})}}]),t}(l.default);y._logger=(0,p.default)(\"MultiRequestBuilder\"),t.default=y;var h=t.MultiRequestResult=function e(t){var n=this;i(this,e),this.results=[],this.success=!0,(t.result?t.result:t).forEach(function(t){var r=new d.default(t);if(n.results.push(r),r.hasError)return e._logger.error(\"Service returned an error with error code: \"+r.error.code+\" and message: \"+r.error.message+\".\"),void(n.success=!1)})};h._logger=(0,p.default)(\"MultiRequestResult\")},function(e,t,n){var r,o;/*!\n * js-logger - http://github.com/jonnyreeves/js-logger\n * Jonny Reeves, http://jonnyreeves.co.uk/\n * js-logger may be freely distributed under the MIT license.\n */\n!function(i){\"use strict\";var u={};u.VERSION=\"1.4.1\";var a,s={},c=function(e,t){return function(){return t.apply(e,arguments)}},l=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in r||!n[t].hasOwnProperty(e)||(r[e]=n[t][e]);return r},f=function(e,t){return{value:e,name:t}};u.DEBUG=f(1,\"DEBUG\"),u.INFO=f(2,\"INFO\"),u.TIME=f(3,\"TIME\"),u.WARN=f(4,\"WARN\"),u.ERROR=f(8,\"ERROR\"),u.OFF=f(99,\"OFF\");var p=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};p.prototype={setLevel:function(e){e&&\"value\"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(u.DEBUG,arguments)},info:function(){this.invoke(u.INFO,arguments)},warn:function(){this.invoke(u.WARN,arguments)},error:function(){this.invoke(u.ERROR,arguments)},time:function(e){\"string\"==typeof e&&e.length>0&&this.invoke(u.TIME,[e,\"start\"])},timeEnd:function(e){\"string\"==typeof e&&e.length>0&&this.invoke(u.TIME,[e,\"end\"])},invoke:function(e,t){a&&this.enabledFor(e)&&a(t,l({level:e},this.context))}};var v=new p({filterLevel:u.OFF});!function(){var e=u;e.enabledFor=c(v,v.enabledFor),e.debug=c(v,v.debug),e.time=c(v,v.time),e.timeEnd=c(v,v.timeEnd),e.info=c(v,v.info),e.warn=c(v,v.warn),e.error=c(v,v.error),e.log=e.info}(),u.setHandler=function(e){a=e},u.setLevel=function(e){v.setLevel(e);for(var t in s)s.hasOwnProperty(t)&&s[t].setLevel(e)},u.getLevel=function(){return v.getLevel()},u.get=function(e){return s[e]||(s[e]=new p(l({name:e},v.context)))},u.createDefaultHandler=function(e){e=e||{},e.formatter=e.formatter||function(e,t){t.name&&e.unshift(\"[\"+t.name+\"]\")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return\"undefined\"==typeof console?function(){}:function(r,o){r=Array.prototype.slice.call(r);var i,a=console.log;o.level===u.TIME?(i=(o.name?\"[\"+o.name+\"] \":\"\")+r[0],\"start\"===r[1]?console.time?console.time(i):t[i]=(new Date).getTime():console.timeEnd?console.timeEnd(i):n(a,[i+\": \"+((new Date).getTime()-t[i])+\"ms\"])):(o.level===u.WARN&&console.warn?a=console.warn:o.level===u.ERROR&&console.error?a=console.error:o.level===u.INFO&&console.info?a=console.info:o.level===u.DEBUG&&console.debug&&(a=console.debug),e.formatter(r,o),n(a,r))}},u.useDefaults=function(e){u.setLevel(e&&e.defaultLevel||u.DEBUG),u.setHandler(u.createDefaultHandler(e))},r=u,void 0!==(o=\"function\"==typeof r?r.call(t,n,t,e):r)&&(e.exports=o)}()},,function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function(e){var t=[],n=/\\[\\]$/,o=function(e){return\"[object Array]\"===Object.prototype.toString.call(e)},i=function(e,n){n=\"function\"==typeof n?n():null===n?\"\":void 0===n?\"\":n,t[t.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(n)};return function e(u,a){var s=void 0,c=void 0,l=void 0;if(u)if(o(a))for(s=0,c=a.length;s<c;s++)n.test(u)?i(u,a[s]):e(u+\":\"+(\"object\"===r(a[s])?s:\"\"),a[s]);else if(a&&\"[object Object]\"===String(a))for(l in a)e(u+\":\"+l,a[l]);else i(u,a);else if(o(a))for(s=0,c=a.length;s<c;s++)i(a[s].name,a[s].value);else for(l in a)e(l,a[l]);return t}(\"\",e).join(\"&\").replace(/%20/g,\"+\")};t.param=o},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(5),a=r(u),s=n(1),c=r(s),l=function(){function e(){o(this,e)}return i(e,null,[{key:\"getMultiRequest\",value:function(e,t,n){var r=c.default.get(),o=r.serviceParams;Object.assign(o,{vs:t,clientTag:\"html5:v\"+e}),n&&Object.assign(o,{partnerId:n});var i=new Map;i.set(\"Content-Type\",\"application/json\");var u=new a.default(i);return u.method=\"POST\",u.service=\"multirequest\",u.url=u.getUrl(r.serviceUrl),u.params=o,u}}]),e}();t.default=l},,,function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(9),c=r(s),l=n(0),f=r(l),p=n(1),v=r(p),d=n(8),y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,null,[{key:\"collect\",value:function(e,t,n,r){var o=v.default.get(),i={};Object.assign(i,o.serviceParams,{vs:t,clientTag:\"html5:v\"+n},r);var u=new f.default;return u.service=\"stats\",u.action=\"collect\",u.method=\"GET\",u.tag=\"stats-collect\",u.params=i,u.url=e+\"?service=\"+u.service+\"&action=\"+u.action+\"&\"+(0,d.param)(u.params),u}}]),t}(c.default);t.default=y},,,,function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.VERSION=t.NAME=t.RequestBuilder=t.OVPConfiguration=t.OVPStatsService=void 0;var o=n(0),i=r(o),u=n(1),a=r(u),s=n(12),c=r(s);t.OVPStatsService=c.default,t.OVPConfiguration=a.default,t.RequestBuilder=i.default,t.NAME=\"pakhshkit-js-providers-stats-service\",t.VERSION=\"2.5.0\"}])});\n//# sourceMappingURL=pakhshkit-stats-service.js.map\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar EVENT_TYPES = {\n  WIDGET_LOADED: 1,\n  MEDIA_LOADED: 2,\n  PLAY: 3,\n  PLAY_REACHED_25: 4,\n  PLAY_REACHED_50: 5,\n  PLAY_REACHED_75: 6,\n  PLAY_REACHED_100: 7,\n  OPEN_EDIT: 8,\n  OPEN_VIRAL: 9,\n  OPEN_DOWNLOAD: 10,\n  OPEN_REPORT: 11,\n  BUFFER_START: 12,\n  BUFFER_END: 13,\n  OPEN_FULL_SCREEN: 14,\n  CLOSE_FULL_SCREEN: 15,\n  REPLAY: 16,\n  SEEK: 17,\n  OPEN_UPLOAD: 18,\n  SAVE_PUBLISH: 19,\n  CLOSE_EDITOR: 20,\n  PRE_BUMPER_PLAYED: 21,\n  POST_BUMPER_PLAYED: 22,\n  BUMPER_CLICKED: 23,\n  PREROLL_STARTED: 24,\n  MIDROLL_STARTED: 25,\n  POSTROLL_STARTED: 26,\n  OVERLAY_STARTED: 27,\n  PREROLL_CLICKED: 28,\n  MIDROLL_CLICKED: 29,\n  POSTROLL_CLICKED: 30,\n  OVERLAY_CLICKED: 31,\n  PREROLL_25: 32,\n  PREROLL_50: 33,\n  PREROLL_75: 34,\n  MIDROLL_25: 35,\n  MIDROLL_50: 36,\n  MIDROLL_75: 37,\n  POSTROLL_25: 38,\n  POSTROLL_50: 39,\n  POSTROLL_75: 40\n};\n\nexports.default = EVENT_TYPES;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Event =\n\n/**\r\n * @constructor\r\n * @param {number} eventType - The event type\r\n */\n\n/**\r\n * The feature type\r\n */\n\n/**\r\n * The vidiun application name\r\n */\n\n/**\r\n * The referrer of the client\r\n */\n\n/**\r\n * The duration of the video in milliseconds\r\n */\n\n/**\r\n * The partner's user id\r\n */\n\n/**\r\n * The widget id\r\n */\n\n/**\r\n * The partner id\r\n */\n\n/**\r\n * The client's timestamp of this event\r\n */\n\n/**\r\n * The client version\r\n */\nfunction Event(eventType) {\n  _classCallCheck(this, Event);\n\n  this.eventType = eventType;\n  this.isFirstInSession = false;\n  this.eventTimestamp = new Date().getTime();\n}\n/**\r\n * Whether kanalony plugin is enabled\r\n */\n\n/**\r\n * The context id\r\n */\n\n/**\r\n * Whether the event is thrown for the first video in the session\r\n */\n\n/**\r\n * Whether the user ever used seek in this session\r\n */\n\n/**\r\n * The timestamp along the video when the event happened\r\n */\n\n/**\r\n * The uiconf id\r\n */\n\n/**\r\n * The entry id\r\n */\n\n/**\r\n * The session id. A unique string generated by the client that will represent the client-side session\r\n * */\n\n/**\r\n * The event type\r\n */\n;\n\nexports.default = Event;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// pakhshkit-vanalytics.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap add281ea33afc165b729","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"pakhshkit-js\",\"commonjs2\":\"pakhshkit-js\",\"amd\":\"pakhshkit-js\",\"root\":[\"pakhshkit\",\"core\"]}\n// module id = 0\n// module chunks = 0","// @flow\r\nimport {registerPlugin} from 'pakhshkit-js';\r\nimport VAnalytics from './vanalytics';\r\n\r\ndeclare var __VERSION__: string;\r\ndeclare var __NAME__: string;\r\n\r\nexport default VAnalytics;\r\nexport {__VERSION__ as VERSION, __NAME__ as NAME};\r\n\r\nconst pluginName = 'vanalytics';\r\n/**\r\n * Register the plugin in the pakhshkit-js plugin framework.\r\n */\r\nregisterPlugin(pluginName, VAnalytics);\r\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","//@flow\r\nimport {BasePlugin} from 'pakhshkit-js';\r\nimport {OVPStatsService, RequestBuilder} from 'pakhshkit-js-providers/dist/pakhshkit-stats-service';\r\nimport EventTypes from './event-types';\r\nimport Event from './event';\r\n\r\nconst SEEK_OFFSET: number = 2000;\r\nconst LIVE: string = 'Live';\r\n\r\n/**\r\n * @classdesc\r\n */\r\nexport default class VAnalytics extends BasePlugin {\r\n  /**\r\n   * @static\r\n   */\r\n  static defaultConfig: Object = {\r\n    serviceUrl: '//stats.vidiun.com/api_v3/index.php',\r\n    hasKanalony: false\r\n  };\r\n\r\n  /**\r\n   * @static\r\n   * @public\r\n   * @returns {boolean} - Whether the plugin is valid.\r\n   */\r\n  static isValid(): boolean {\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * The time of the last seek event\r\n   * @private\r\n   */\r\n  _lastSeekEvent: number = 0;\r\n  /**\r\n   * Whether seeking occurred\r\n   * @private\r\n   */\r\n  _hasSeeked: boolean = false;\r\n  /**\r\n   * The ended flag\r\n   * @private\r\n   */\r\n  _ended: boolean = false;\r\n  /**\r\n   * The Vidiun session\r\n   * @private\r\n   */\r\n  _vs: string = '';\r\n  /**\r\n   * Indicate whether time percent event already sent\r\n   * @private\r\n   */\r\n  _timePercentEvent: {[event: string]: boolean} = {};\r\n  /**\r\n   * Indicate whether widget loaded event already sent\r\n   * @private\r\n   */\r\n  _widgetLoadedEventSent: boolean = false;\r\n\r\n  /**\r\n   * @constructor\r\n   * @param {string} name - The plugin name.\r\n   * @param {Player} player - The player reference.\r\n   * @param {Object} config - The plugin configuration.\r\n   */\r\n  constructor(name: string, player: Player, config: Object) {\r\n    super(name, player, config);\r\n    this._registerListeners();\r\n  }\r\n\r\n  /**\r\n   * Reset the plugin flags\r\n   * @return {void}\r\n   */\r\n  reset(): void {\r\n    this._hasSeeked = false;\r\n    this._ended = false;\r\n    this._vs = '';\r\n    this._timePercentEvent = {};\r\n  }\r\n\r\n  /**\r\n   * @public\r\n   * @return {void}\r\n   */\r\n  destroy(): void {\r\n    this.eventManager.destroy();\r\n  }\r\n\r\n  /**\r\n   * Register the player event listeners\r\n   * @private\r\n   * @return {void}\r\n   */\r\n  _registerListeners(): void {\r\n    const PlayerEvent = this.player.Event;\r\n    this.eventManager.listen(this.player, PlayerEvent.SOURCE_SELECTED, this._onSourceSelected.bind(this));\r\n    this.eventManager.listen(this.player, PlayerEvent.FIRST_PLAY, this._sendAnalytics.bind(this, EventTypes.PLAY));\r\n    this.eventManager.listen(this.player, PlayerEvent.PLAY, this._onPlay.bind(this));\r\n    this.eventManager.listen(this.player, PlayerEvent.ENDED, this._onEnded.bind(this));\r\n    this.eventManager.listen(this.player, PlayerEvent.SEEKED, this._sendSeekAnalytic.bind(this));\r\n    this.eventManager.listen(this.player, PlayerEvent.TIME_UPDATE, this._sendTimePercentAnalytic.bind(this));\r\n    this.eventManager.listen(this.player, PlayerEvent.PLAYER_STATE_CHANGED, this._onPlayerStateChanged.bind(this));\r\n  }\r\n\r\n  /**\r\n   * The source selected event listener\r\n   * @private\r\n   * @return {void}\r\n   */\r\n  _onSourceSelected(): void {\r\n    if (!this._widgetLoadedEventSent) {\r\n      this._sendAnalytics(EventTypes.WIDGET_LOADED);\r\n      this._widgetLoadedEventSent = true;\r\n    }\r\n    this.player.ready().then(() => {\r\n      this._sendAnalytics(EventTypes.MEDIA_LOADED);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * The play event listener\r\n   * @private\r\n   * @return {void}\r\n   */\r\n  _onPlay(): void {\r\n    if (this._ended) {\r\n      this._ended = false;\r\n      this._sendAnalytics(EventTypes.REPLAY);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The ended event listener\r\n   * @private\r\n   * @return {void}\r\n   */\r\n  _onEnded(): void {\r\n    this._ended = true;\r\n  }\r\n\r\n  /**\r\n   * The player state changed event listener\r\n   * @param {any} event - the event\r\n   * @private\r\n   * @return {void}\r\n   */\r\n  _onPlayerStateChanged(event: any): void {\r\n    if (event.payload.newState.type === this.player.State.BUFFERING) {\r\n      this._sendAnalytics(EventTypes.BUFFER_START);\r\n    }\r\n    if (event.payload.oldState.type === this.player.State.BUFFERING) {\r\n      this._sendAnalytics(EventTypes.BUFFER_END);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Send seek analytic\r\n   * @private\r\n   * @return {void}\r\n   */\r\n  _sendSeekAnalytic(): void {\r\n    const now = new Date().getTime();\r\n    if (this._lastSeekEvent + SEEK_OFFSET < now && (this.player.config.type !== LIVE || this.player.config.dvr)) {\r\n      // avoid sending lots of seeking while scrubbing\r\n      this._sendAnalytics(EventTypes.SEEK);\r\n      this._hasSeeked = true;\r\n    }\r\n    this._lastSeekEvent = now;\r\n  }\r\n\r\n  /**\r\n   * Send time percent analytic\r\n   * @private\r\n   * @return {void}\r\n   */\r\n  _sendTimePercentAnalytic(): void {\r\n    if (this.player.config.type !== LIVE) {\r\n      const percent = this.player.currentTime / this.player.duration;\r\n      if (!this._timePercentEvent.PLAY_REACHED_25 && percent >= 0.25) {\r\n        this._timePercentEvent.PLAY_REACHED_25 = true;\r\n        this._sendAnalytics(EventTypes.PLAY_REACHED_25);\r\n      }\r\n      if (!this._timePercentEvent.PLAY_REACHED_50 && percent >= 0.5) {\r\n        this._timePercentEvent.PLAY_REACHED_50 = true;\r\n        this._sendAnalytics(EventTypes.PLAY_REACHED_50);\r\n      }\r\n      if (!this._timePercentEvent.PLAY_REACHED_75 && percent >= 0.75) {\r\n        this._timePercentEvent.PLAY_REACHED_75 = true;\r\n        this._sendAnalytics(EventTypes.PLAY_REACHED_75);\r\n      }\r\n      if (!this._timePercentEvent.PLAY_REACHED_100 && percent >= 1) {\r\n        this._timePercentEvent.PLAY_REACHED_100 = true;\r\n        this._sendAnalytics(EventTypes.PLAY_REACHED_100);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get the player params which relevant to analytics request\r\n   * @private\r\n   * @return {Object} - The player params\r\n   */\r\n  get _playerParams(): Object {\r\n    this._vs = this.config.vs;\r\n    return {\r\n      clientVer: this.config.playerVersion,\r\n      entryId: this.config.entryId,\r\n      sessionId: this.config.sessionId,\r\n      uiConfId: this.config.uiConfId || 0,\r\n      partnerId: this.config.partnerId,\r\n      widgetId: this.config.partnerId ? '_' + this.config.partnerId : '',\r\n      referrer: this.config.referrer\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Register the player event listeners\r\n   * @param {number} eventType - The event type\r\n   * @private\r\n   * @return {void}\r\n   */\r\n  _sendAnalytics(eventType: number): void {\r\n    if (!this._validate()) {\r\n      return;\r\n    }\r\n    const statsEvent = new Event(eventType);\r\n    statsEvent.currentPoint = this.player.currentTime;\r\n    statsEvent.duration = this.player.duration;\r\n    statsEvent.seek = this._hasSeeked;\r\n    Object.assign(statsEvent, this._playerParams);\r\n    const eventData = {\r\n      event: statsEvent,\r\n      hasKanalony: this.config.hasKanalony\r\n    };\r\n    const request: RequestBuilder = OVPStatsService.collect(this.config.serviceUrl, this._vs, this.config.playerVersion, eventData);\r\n    request.doHttpRequest().then(\r\n      () => {\r\n        this.logger.debug(`Analytics event sent `, statsEvent);\r\n      },\r\n      err => {\r\n        this.logger.error(`Failed to send analytics event `, statsEvent, err);\r\n      }\r\n    );\r\n  }\r\n\r\n  _validate(): boolean {\r\n    if (!this.config.partnerId) {\r\n      this._logMissingParam('partnerId');\r\n      return false;\r\n    }\r\n    if (!this.config.entryId) {\r\n      this._logMissingParam('entryId');\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  _logMissingParam(missingParam: string): void {\r\n    this.logger.warn(`block report because of missing param ${missingParam}`);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./vanalytics.js","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.stats=t():(e.pakhshkit=e.pakhshkit||{},e.pakhshkit.services=e.pakhshkit.services||{},e.pakhshkit.services.stats=t())}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=16)}([function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;r(this,e),this.headers=t}return i(e,[{key:\"getUrl\",value:function(e){return e+\"/service/\"+this.service+(this.action?\"/action/\"+this.action:\"\")}},{key:\"doHttpRequest\",value:function(){var e=this;if(!this.url)throw new Error(\"serviceUrl is mandatory for request builder\");var t=new XMLHttpRequest;return new Promise(function(n,r){t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){var e=void 0;try{e=JSON.parse(t.responseText)}catch(e){return r(e.message+\", \"+t.responseText)}e&&\"object\"===(void 0===e?\"undefined\":o(e))&&e.code&&e.message?r(e):n(e)}else r(t.responseText)},t.open(e.method,e.url),e.headers.forEach(function(e,n){t.setRequestHeader(n,e)}),t.send(e.params)})}}]),e}();t.default=u},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0}),t.OVPConfiguration=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),u={serviceUrl:\"https://cdnapisec.vidiun.com/api_v3\",cdnUrl:\"//cdnapisec.vidiun.com\",serviceParams:{apiVersion:\"3.3.0\",format:1}},a=function(){function e(){r(this,e)}return o(e,null,[{key:\"set\",value:function(e){e&&Object.assign(u,e)}},{key:\"get\",value:function(){return(0,i.clone)(u)}}]),e}();t.default=a,t.OVPConfiguration=a},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function e(t){var n=void 0;return Array.isArray(t)?(n=t.length>0?t.slice(0):[],n.forEach(function(t,o){(\"object\"===(void 0===t?\"undefined\":r(t))&&t!=={}||Array.isArray(t)&&t.length>0)&&(n[o]=e(t))})):\"object\"===(void 0===t?\"undefined\":r(t))?(n=Object.assign({},t),Object.keys(n).forEach(function(t){(\"object\"===r(n[t])&&n[t]!=={}||Array.isArray(n[t])&&n[t].length>0)&&(n[t]=e(n[t]))})):n=t,n};t.clone=o},function(e,t,n){\"use strict\";function r(e){return e?a.get(e):a}function o(e){return r(e).getLevel()}function i(e,t){r(t).setLevel(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.setLogLevel=t.getLogLevel=t.LogLevel=void 0;var u=n(6),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),s={DEBUG:a.DEBUG,INFO:a.INFO,TIME:a.TIME,WARN:a.WARN,ERROR:a.ERROR,OFF:a.OFF};a.useDefaults({defaultLevel:a.ERROR}),t.default=r,t.LogLevel=s,t.getLogLevel=o,t.setLogLevel=i},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function e(t){r(this,e),this.hasError=!1,\"VidiunAPIException\"===t.objectType?(this.hasError=!0,this.error=new i(t.code,t.message)):t.error&&\"VidiunAPIException\"===t.error.objectType?(this.hasError=!0,this.error=new i(t.error.code,t.error.message)):this.data=t};t.default=o;var i=function e(t,n){r(this,e),this.code=t,this.message=n}},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.MultiRequestResult=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=n(3),p=r(f),v=n(4),d=r(v),y=function(e){function t(){var e,n,r,o;i(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.requests=[],o=n,u(r,o)}return a(t,e),s(t,[{key:\"add\",value:function(e){this.requests.push(e);var t={},n={service:e.service,action:e.action};return Object.assign(t,o({},this.requests.length,Object.assign(n,e.params))),Object.assign(t,this.params),this.params=t,this}},{key:\"execute\",value:function(){var e=this;try{this.params=JSON.stringify(this.params)}catch(e){t._logger.error(\"\"+e.message)}return new Promise(function(t,n){e.doHttpRequest().then(function(e){t(new h(e))},function(e){n(\"Error on multiRequest execution, error <\"+e+\">.\")})})}}]),t}(l.default);y._logger=(0,p.default)(\"MultiRequestBuilder\"),t.default=y;var h=t.MultiRequestResult=function e(t){var n=this;i(this,e),this.results=[],this.success=!0,(t.result?t.result:t).forEach(function(t){var r=new d.default(t);if(n.results.push(r),r.hasError)return e._logger.error(\"Service returned an error with error code: \"+r.error.code+\" and message: \"+r.error.message+\".\"),void(n.success=!1)})};h._logger=(0,p.default)(\"MultiRequestResult\")},function(e,t,n){var r,o;/*!\n * js-logger - http://github.com/jonnyreeves/js-logger\n * Jonny Reeves, http://jonnyreeves.co.uk/\n * js-logger may be freely distributed under the MIT license.\n */\n!function(i){\"use strict\";var u={};u.VERSION=\"1.4.1\";var a,s={},c=function(e,t){return function(){return t.apply(e,arguments)}},l=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in r||!n[t].hasOwnProperty(e)||(r[e]=n[t][e]);return r},f=function(e,t){return{value:e,name:t}};u.DEBUG=f(1,\"DEBUG\"),u.INFO=f(2,\"INFO\"),u.TIME=f(3,\"TIME\"),u.WARN=f(4,\"WARN\"),u.ERROR=f(8,\"ERROR\"),u.OFF=f(99,\"OFF\");var p=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};p.prototype={setLevel:function(e){e&&\"value\"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(u.DEBUG,arguments)},info:function(){this.invoke(u.INFO,arguments)},warn:function(){this.invoke(u.WARN,arguments)},error:function(){this.invoke(u.ERROR,arguments)},time:function(e){\"string\"==typeof e&&e.length>0&&this.invoke(u.TIME,[e,\"start\"])},timeEnd:function(e){\"string\"==typeof e&&e.length>0&&this.invoke(u.TIME,[e,\"end\"])},invoke:function(e,t){a&&this.enabledFor(e)&&a(t,l({level:e},this.context))}};var v=new p({filterLevel:u.OFF});!function(){var e=u;e.enabledFor=c(v,v.enabledFor),e.debug=c(v,v.debug),e.time=c(v,v.time),e.timeEnd=c(v,v.timeEnd),e.info=c(v,v.info),e.warn=c(v,v.warn),e.error=c(v,v.error),e.log=e.info}(),u.setHandler=function(e){a=e},u.setLevel=function(e){v.setLevel(e);for(var t in s)s.hasOwnProperty(t)&&s[t].setLevel(e)},u.getLevel=function(){return v.getLevel()},u.get=function(e){return s[e]||(s[e]=new p(l({name:e},v.context)))},u.createDefaultHandler=function(e){e=e||{},e.formatter=e.formatter||function(e,t){t.name&&e.unshift(\"[\"+t.name+\"]\")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return\"undefined\"==typeof console?function(){}:function(r,o){r=Array.prototype.slice.call(r);var i,a=console.log;o.level===u.TIME?(i=(o.name?\"[\"+o.name+\"] \":\"\")+r[0],\"start\"===r[1]?console.time?console.time(i):t[i]=(new Date).getTime():console.timeEnd?console.timeEnd(i):n(a,[i+\": \"+((new Date).getTime()-t[i])+\"ms\"])):(o.level===u.WARN&&console.warn?a=console.warn:o.level===u.ERROR&&console.error?a=console.error:o.level===u.INFO&&console.info?a=console.info:o.level===u.DEBUG&&console.debug&&(a=console.debug),e.formatter(r,o),n(a,r))}},u.useDefaults=function(e){u.setLevel(e&&e.defaultLevel||u.DEBUG),u.setHandler(u.createDefaultHandler(e))},r=u,void 0!==(o=\"function\"==typeof r?r.call(t,n,t,e):r)&&(e.exports=o)}()},,function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function(e){var t=[],n=/\\[\\]$/,o=function(e){return\"[object Array]\"===Object.prototype.toString.call(e)},i=function(e,n){n=\"function\"==typeof n?n():null===n?\"\":void 0===n?\"\":n,t[t.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(n)};return function e(u,a){var s=void 0,c=void 0,l=void 0;if(u)if(o(a))for(s=0,c=a.length;s<c;s++)n.test(u)?i(u,a[s]):e(u+\":\"+(\"object\"===r(a[s])?s:\"\"),a[s]);else if(a&&\"[object Object]\"===String(a))for(l in a)e(u+\":\"+l,a[l]);else i(u,a);else if(o(a))for(s=0,c=a.length;s<c;s++)i(a[s].name,a[s].value);else for(l in a)e(l,a[l]);return t}(\"\",e).join(\"&\").replace(/%20/g,\"+\")};t.param=o},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(5),a=r(u),s=n(1),c=r(s),l=function(){function e(){o(this,e)}return i(e,null,[{key:\"getMultiRequest\",value:function(e,t,n){var r=c.default.get(),o=r.serviceParams;Object.assign(o,{vs:t,clientTag:\"html5:v\"+e}),n&&Object.assign(o,{partnerId:n});var i=new Map;i.set(\"Content-Type\",\"application/json\");var u=new a.default(i);return u.method=\"POST\",u.service=\"multirequest\",u.url=u.getUrl(r.serviceUrl),u.params=o,u}}]),e}();t.default=l},,,function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(9),c=r(s),l=n(0),f=r(l),p=n(1),v=r(p),d=n(8),y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,null,[{key:\"collect\",value:function(e,t,n,r){var o=v.default.get(),i={};Object.assign(i,o.serviceParams,{vs:t,clientTag:\"html5:v\"+n},r);var u=new f.default;return u.service=\"stats\",u.action=\"collect\",u.method=\"GET\",u.tag=\"stats-collect\",u.params=i,u.url=e+\"?service=\"+u.service+\"&action=\"+u.action+\"&\"+(0,d.param)(u.params),u}}]),t}(c.default);t.default=y},,,,function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.VERSION=t.NAME=t.RequestBuilder=t.OVPConfiguration=t.OVPStatsService=void 0;var o=n(0),i=r(o),u=n(1),a=r(u),s=n(12),c=r(s);t.OVPStatsService=c.default,t.OVPConfiguration=a.default,t.RequestBuilder=i.default,t.NAME=\"pakhshkit-js-providers-stats-service\",t.VERSION=\"2.5.0\"}])});\n//# sourceMappingURL=pakhshkit-stats-service.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/pakhshkit-js-providers/dist/pakhshkit-stats-service.js\n// module id = 3\n// module chunks = 0","//@flow\r\nconst EVENT_TYPES: {[event: string]: number} = {\r\n  WIDGET_LOADED: 1,\r\n  MEDIA_LOADED: 2,\r\n  PLAY: 3,\r\n  PLAY_REACHED_25: 4,\r\n  PLAY_REACHED_50: 5,\r\n  PLAY_REACHED_75: 6,\r\n  PLAY_REACHED_100: 7,\r\n  OPEN_EDIT: 8,\r\n  OPEN_VIRAL: 9,\r\n  OPEN_DOWNLOAD: 10,\r\n  OPEN_REPORT: 11,\r\n  BUFFER_START: 12,\r\n  BUFFER_END: 13,\r\n  OPEN_FULL_SCREEN: 14,\r\n  CLOSE_FULL_SCREEN: 15,\r\n  REPLAY: 16,\r\n  SEEK: 17,\r\n  OPEN_UPLOAD: 18,\r\n  SAVE_PUBLISH: 19,\r\n  CLOSE_EDITOR: 20,\r\n  PRE_BUMPER_PLAYED: 21,\r\n  POST_BUMPER_PLAYED: 22,\r\n  BUMPER_CLICKED: 23,\r\n  PREROLL_STARTED: 24,\r\n  MIDROLL_STARTED: 25,\r\n  POSTROLL_STARTED: 26,\r\n  OVERLAY_STARTED: 27,\r\n  PREROLL_CLICKED: 28,\r\n  MIDROLL_CLICKED: 29,\r\n  POSTROLL_CLICKED: 30,\r\n  OVERLAY_CLICKED: 31,\r\n  PREROLL_25: 32,\r\n  PREROLL_50: 33,\r\n  PREROLL_75: 34,\r\n  MIDROLL_25: 35,\r\n  MIDROLL_50: 36,\r\n  MIDROLL_75: 37,\r\n  POSTROLL_25: 38,\r\n  POSTROLL_50: 39,\r\n  POSTROLL_75: 40\r\n};\r\n\r\nexport default EVENT_TYPES;\r\n\n\n\n// WEBPACK FOOTER //\n// ./event-types.js","//@flow\r\nexport default class Event {\r\n  /**\r\n   * The client version\r\n   */\r\n  clientVer: string;\r\n  /**\r\n   * The event type\r\n   */\r\n  eventType: number;\r\n  /**\r\n   * The client's timestamp of this event\r\n   */\r\n  eventTimestamp: number;\r\n  /**\r\n   * The session id. A unique string generated by the client that will represent the client-side session\r\n   * */\r\n  sessionId: string;\r\n  /**\r\n   * The partner id\r\n   */\r\n  partnerId: number;\r\n  /**\r\n   * The entry id\r\n   */\r\n  entryId: string;\r\n  /**\r\n   * The widget id\r\n   */\r\n  widgetId: string;\r\n  /**\r\n   * The uiconf id\r\n   */\r\n  uiconfId: number;\r\n  /**\r\n   * The partner's user id\r\n   */\r\n  userId: number;\r\n  /**\r\n   * The timestamp along the video when the event happened\r\n   */\r\n  currentPoint: number;\r\n  /**\r\n   * The duration of the video in milliseconds\r\n   */\r\n  duration: number;\r\n  /**\r\n   * Whether the user ever used seek in this session\r\n   */\r\n  seek: boolean;\r\n  /**\r\n   * The referrer of the client\r\n   */\r\n  referrer: string;\r\n  /**\r\n   * Whether the event is thrown for the first video in the session\r\n   */\r\n  isFirstInSession: boolean;\r\n  /**\r\n   * The vidiun application name\r\n   */\r\n  applicationId: string;\r\n  /**\r\n   * The context id\r\n   */\r\n  contextId: number;\r\n  /**\r\n   * The feature type\r\n   */\r\n  featureType: number;\r\n  /**\r\n   * Whether kanalony plugin is enabled\r\n   */\r\n  hasKanalony: boolean;\r\n\r\n  /**\r\n   * @constructor\r\n   * @param {number} eventType - The event type\r\n   */\r\n  constructor(eventType: number) {\r\n    this.eventType = eventType;\r\n    this.isFirstInSession = false;\r\n    this.eventTimestamp = new Date().getTime();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./event.js"],"sourceRoot":""}